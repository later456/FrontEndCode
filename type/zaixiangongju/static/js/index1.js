!function(u){window.CellBCReg;var n=window.navigator.userAgent,i=-1<location.href.indexOf("cellbctest=1"),a=/AliApp\((TB)\/([\d\.]+)\)/i.test(n)||/AliApp\((TB-PD)\/([\d\.]+)\)/i.test(n),o=/AliApp\((TM)\/([\d\.]+)\)/i.test(n),p=-1,r=0,d=1,l=2;var c=function(i,n){for(var a in n)i[a]=n[a];return i}({"mtop.alimama.union.xt.en.api.entry_1.0":"mtop.baichuan.alimama.union.xt.en.api.entry_1.0","mtop.alimama.union.xt.en.api.entry_2.0":"mtop.baichuan.alimama.union.xt.en.api.entry_2.0","mtop.taobao.union.play.api.play_1.0":"mtop.baichuan.taobao.union.play.api.play_1.0","mtop.alimama.vegas.draw_1.0":"mtop.baichuan.alimama.vegas.draw_1.0"},window.BCMtopApiMap||{});function t(i,a,o){var n,t=(n=u.$&&u.$.extend?$.extend(!0,{},i):i).api+"_"+n.v;if(c[t]){var e=c[t].split("_");n.api=e[0],n.v=e[1]}n.params=n.data||{},delete n.data,n.version=n.v||"1.0",delete n.v,1==n.isSec&&(n.needWua=!0),!0!==n.LoginRequest&&"1"!=n.ecode&&!n.sessionOption||(n.needLogin=!0),Baichuan.request(n,function(i){var n=(i=i||{}).ret||"";n instanceof Array&&(n=n.join("")),-1<(n=n.toLowerCase()).indexOf("success")?(i.retType=r,a&&a(i)):(-1<n.indexOf("TOKEN_EMPTY")||-1<n.indexOf("TOKEN_EXOIRED")?i.retType=d:-1<n.indexOf("SESSION_EXPIRED")||-1<n.indexOf("SID_INVALID")||-1<n.indexOf("AUTH_REJECT")||-1<n.indexOf("NEED_LOGIN")?i.retType=l:i.retType=p,o?o(i):a(i))})}function e(){window.Baichuan.logout()}function s(i){window.Baichuan.login(i)}function g(a){if(!a||"function"!=typeof a)return i&&alert("\u767e\u5ddd\u4e2d\u4e0d\u80fd\u4f7f\u7528\u540c\u6b65\u7684isLogin\u65b9\u6cd5"),window.Baichuan.isLogin(function(i){!0!==i&&"true"!==i&&window.Baichuan.login()}),!0;window.Baichuan.isLogin(function(i){var n=!1;i&&i.data&&("true"===i.data.isLogin||!0===i.data.isLogin)&&(n=!0),a(n)})}var f={isBC:function(){var i=n.match(/baichuan_(iphone|android)_(\d+).\d+.\d+.\d+/i);return!!i&&(4<=parseInt(i[2])&&!a&&!o)},bcMtopRequest:t,bcLogin:s,bcIsLogin:g,bcLoginOut:e};u.Baichuan&&f.isBC()&&u.lib&&(u.lib.mtop&&(u.lib.mtop.request=t),u.lib.login&&(u.lib.login.isLogin=g,u.lib.login.goLogin=s,u.lib.login.goLoginAsync=s,u.lib.login.goLogout=e)),u.BCSDK=f}(window);